"use strict";(self.webpackChunkdocs=self.webpackChunkdocs||[]).push([[69],{3773:(e,n,t)=>{t.r(n),t.d(n,{assets:()=>b,contentTitle:()=>h,default:()=>g,frontMatter:()=>p,metadata:()=>m,toc:()=>f});var r=t(5893),s=t(1151),a=t(4866),l=t(5162),i=t(9286),o=t(1942),u=t(4719),c=t(1562),d=t(1859);const p={sidebar_position:2,sidebar_label:"Manual Installation"},h=void 0,m={id:"installation/Manual-installation",title:"Manual-installation",description:"Requirements",source:"@site/docs/installation/Manual-installation.mdx",sourceDirName:"installation",slug:"/installation/Manual-installation",permalink:"/installation/Manual-installation",draft:!1,unlisted:!1,editUrl:"https://github.com/fido-node/rusty-belt/tree/main/docs/docs/installation/Manual-installation.mdx",tags:[],version:"current",sidebarPosition:2,frontMatter:{sidebar_position:2,sidebar_label:"Manual Installation"},sidebar:"tutorialSidebar",previous:{title:"Cargo",permalink:"/installation/Cargo"},next:{title:"Setup Client",permalink:"/installation/Setup-client"}},b={},f=[{value:"Requirements",id:"requirements",level:2},{value:"Build from source",id:"build-from-source",level:2},{value:"Configs",id:"configs",level:2},{value:"Run as service",id:"run-as-service",level:2}];function v(e){const n={a:"a",br:"br",code:"code",h2:"h2",p:"p",pre:"pre",strong:"strong",...(0,s.a)(),...e.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(n.h2,{id:"requirements",children:"Requirements"}),"\n",(0,r.jsxs)(n.p,{children:["You need to install rustc and cargo. You can use ",(0,r.jsx)(n.strong,{children:"rustup"})," or your package manager for your system.\nAlso you need protobuf."]}),"\n",(0,r.jsx)(n.h2,{id:"build-from-source",children:"Build from source"}),"\n",(0,r.jsx)(n.p,{children:"Clone repository"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{children:"git clone https://github.com/fido-node/rusty-belt.git\n"})}),"\n",(0,r.jsx)(n.p,{children:"Build binaries with release flag"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{children:"cargo build --release\n"})}),"\n",(0,r.jsxs)(n.p,{children:["Move binaries from ",(0,r.jsx)(n.code,{children:"./target/release/"})," to some dir in your ",(0,r.jsx)(n.code,{children:"PATH"})]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{children:"cp ./target/release/tmux_client ~/.local/bin\ncp ./target/release/rusty_belt_server ~/.local/bin\n"})}),"\n",(0,r.jsx)(n.h2,{id:"configs",children:"Configs"}),"\n",(0,r.jsxs)(n.p,{children:["Use sample configs or go to ",(0,r.jsx)(n.a,{href:"../category/configuration",children:(0,r.jsx)(n.strong,{children:"configuration doc"})})]}),"\n",(0,r.jsxs)(a.Z,{groupId:"operating-systems",children:[(0,r.jsx)(l.Z,{value:"linux",label:"Linux",default:!0,children:(0,r.jsxs)(n.p,{children:["Create folder for cofigs ",(0,r.jsx)(n.code,{children:"mkdir -p ~/.config/rusty-belt"}),"\nPlace these files to ",(0,r.jsx)(n.code,{children:"~/.config/rusty-belt/"})]})}),(0,r.jsx)(l.Z,{value:"apple",label:"Apple",children:(0,r.jsxs)(n.p,{children:["Create folder for configs ",(0,r.jsx)(n.code,{children:"mkdir -p ~/Library/Application\\ Support/rusty-belt/"}),"\nPlace these files to ",(0,r.jsx)(n.code,{children:"~/Library/Application\\ Support/rusty-belt/"})]})})]}),"\n",(0,r.jsx)(n.p,{children:"Sample app config:"}),"\n",(0,r.jsx)(i.Z,{language:"yaml",title:"config.yaml",showLineNumbers:!0,children:o.Z}),"\n",(0,r.jsx)(n.p,{children:"Sample logging config:"}),"\n",(0,r.jsx)(i.Z,{language:"yaml",title:"log4rs.yaml",showLineNumbers:!0,children:u.Z}),"\n",(0,r.jsx)(n.h2,{id:"run-as-service",children:"Run as service"}),"\n",(0,r.jsxs)(a.Z,{groupId:"operating-systems",children:[(0,r.jsxs)(l.Z,{value:"linux",label:"Linux",default:!0,children:[(0,r.jsxs)(n.p,{children:["You can use this file\n",(0,r.jsx)(n.a,{href:"https://github.com/fido-node/rusty-belt/blob/main/resources/rusty-belt.service",children:(0,r.jsx)(n.strong,{children:"rusty-belt.service"})})," as example:"]}),(0,r.jsxs)(n.p,{children:["Fix 7th line acording to the way you've installed binaries.",(0,r.jsx)(n.br,{}),"\n","F.e. use ",(0,r.jsx)(n.code,{children:"/.local/bin/rusty_belt_server"}),"."]}),(0,r.jsx)(i.Z,{language:"systemd",title:"~/.config/systemd/user/rusty-belt.service",showLineNumbers:!0,children:c.Z}),(0,r.jsxs)(n.p,{children:["Place it to the ",(0,r.jsx)(n.code,{children:"~/.config/systemd/user/"})]}),(0,r.jsx)(n.p,{children:"Reload services, enable and start it."}),(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{children:"systemctl daemon-reload --user\nsystemctl --user enable rusty-belt.service\nsystemctl --user start rusty-belt.service\n"})})]}),(0,r.jsxs)(l.Z,{value:"apple",label:"Apple",children:[(0,r.jsxs)(n.p,{children:["You can use this file\n",(0,r.jsx)(n.a,{href:"https://github.com/fido-node/rusty-belt/blob/main/resources/launched.dev.fidonode.me.rusty_belt_server.plist",children:(0,r.jsx)(n.strong,{children:"launched.dev.fidonode.me.rusty_belt_server.plist"})})," as example:"]}),(0,r.jsx)(i.Z,{language:"systemd",title:"~/Library/LaunchAgents/launched.dev.fidonode.me.rusty_belt_server.plist",showLineNumbers:!0,children:d.Z}),(0,r.jsxs)(n.p,{children:["Place it to the ",(0,r.jsx)(n.code,{children:"~/Library/LaunchAgents/"})]}),(0,r.jsx)(n.p,{children:"Load services."}),(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{children:"launchctl load ~/Library/LaunchAgents/launched.dev.fidonode.me.rusty_belt_server.plist\n"})})]})]})]})}function g(e={}){const{wrapper:n}={...(0,s.a)(),...e.components};return n?(0,r.jsx)(n,{...e,children:(0,r.jsx)(v,{...e})}):v(e)}},5162:(e,n,t)=>{t.d(n,{Z:()=>l});t(7294);var r=t(512);const s={tabItem:"tabItem_Ymn6"};var a=t(5893);function l(e){let{children:n,hidden:t,className:l}=e;return(0,a.jsx)("div",{role:"tabpanel",className:(0,r.Z)(s.tabItem,l),hidden:t,children:n})}},4866:(e,n,t)=>{t.d(n,{Z:()=>_});var r=t(7294),s=t(512),a=t(2466),l=t(6550),i=t(469),o=t(1980),u=t(7392),c=t(12);function d(e){return r.Children.toArray(e).filter((e=>"\n"!==e)).map((e=>{if(!e||(0,r.isValidElement)(e)&&function(e){const{props:n}=e;return!!n&&"object"==typeof n&&"value"in n}(e))return e;throw new Error(`Docusaurus error: Bad <Tabs> child <${"string"==typeof e.type?e.type:e.type.name}>: all children of the <Tabs> component should be <TabItem>, and every <TabItem> should have a unique "value" prop.`)}))?.filter(Boolean)??[]}function p(e){const{values:n,children:t}=e;return(0,r.useMemo)((()=>{const e=n??function(e){return d(e).map((e=>{let{props:{value:n,label:t,attributes:r,default:s}}=e;return{value:n,label:t,attributes:r,default:s}}))}(t);return function(e){const n=(0,u.l)(e,((e,n)=>e.value===n.value));if(n.length>0)throw new Error(`Docusaurus error: Duplicate values "${n.map((e=>e.value)).join(", ")}" found in <Tabs>. Every value needs to be unique.`)}(e),e}),[n,t])}function h(e){let{value:n,tabValues:t}=e;return t.some((e=>e.value===n))}function m(e){let{queryString:n=!1,groupId:t}=e;const s=(0,l.k6)(),a=function(e){let{queryString:n=!1,groupId:t}=e;if("string"==typeof n)return n;if(!1===n)return null;if(!0===n&&!t)throw new Error('Docusaurus error: The <Tabs> component groupId prop is required if queryString=true, because this value is used as the search param name. You can also provide an explicit value such as queryString="my-search-param".');return t??null}({queryString:n,groupId:t});return[(0,o._X)(a),(0,r.useCallback)((e=>{if(!a)return;const n=new URLSearchParams(s.location.search);n.set(a,e),s.replace({...s.location,search:n.toString()})}),[a,s])]}function b(e){const{defaultValue:n,queryString:t=!1,groupId:s}=e,a=p(e),[l,o]=(0,r.useState)((()=>function(e){let{defaultValue:n,tabValues:t}=e;if(0===t.length)throw new Error("Docusaurus error: the <Tabs> component requires at least one <TabItem> children component");if(n){if(!h({value:n,tabValues:t}))throw new Error(`Docusaurus error: The <Tabs> has a defaultValue "${n}" but none of its children has the corresponding value. Available values are: ${t.map((e=>e.value)).join(", ")}. If you intend to show no default tab, use defaultValue={null} instead.`);return n}const r=t.find((e=>e.default))??t[0];if(!r)throw new Error("Unexpected error: 0 tabValues");return r.value}({defaultValue:n,tabValues:a}))),[u,d]=m({queryString:t,groupId:s}),[b,f]=function(e){let{groupId:n}=e;const t=function(e){return e?`docusaurus.tab.${e}`:null}(n),[s,a]=(0,c.Nk)(t);return[s,(0,r.useCallback)((e=>{t&&a.set(e)}),[t,a])]}({groupId:s}),v=(()=>{const e=u??b;return h({value:e,tabValues:a})?e:null})();(0,i.Z)((()=>{v&&o(v)}),[v]);return{selectedValue:l,selectValue:(0,r.useCallback)((e=>{if(!h({value:e,tabValues:a}))throw new Error(`Can't select invalid tab value=${e}`);o(e),d(e),f(e)}),[d,f,a]),tabValues:a}}var f=t(2389);const v={tabList:"tabList__CuJ",tabItem:"tabItem_LNqP"};var g=t(5893);function y(e){let{className:n,block:t,selectedValue:r,selectValue:l,tabValues:i}=e;const o=[],{blockElementScrollPositionUntilNextRender:u}=(0,a.o5)(),c=e=>{const n=e.currentTarget,t=o.indexOf(n),s=i[t].value;s!==r&&(u(n),l(s))},d=e=>{let n=null;switch(e.key){case"Enter":c(e);break;case"ArrowRight":{const t=o.indexOf(e.currentTarget)+1;n=o[t]??o[0];break}case"ArrowLeft":{const t=o.indexOf(e.currentTarget)-1;n=o[t]??o[o.length-1];break}}n?.focus()};return(0,g.jsx)("ul",{role:"tablist","aria-orientation":"horizontal",className:(0,s.Z)("tabs",{"tabs--block":t},n),children:i.map((e=>{let{value:n,label:t,attributes:a}=e;return(0,g.jsx)("li",{role:"tab",tabIndex:r===n?0:-1,"aria-selected":r===n,ref:e=>o.push(e),onKeyDown:d,onClick:c,...a,className:(0,s.Z)("tabs__item",v.tabItem,a?.className,{"tabs__item--active":r===n}),children:t??n},n)}))})}function x(e){let{lazy:n,children:t,selectedValue:s}=e;const a=(Array.isArray(t)?t:[t]).filter(Boolean);if(n){const e=a.find((e=>e.props.value===s));return e?(0,r.cloneElement)(e,{className:"margin-top--md"}):null}return(0,g.jsx)("div",{className:"margin-top--md",children:a.map(((e,n)=>(0,r.cloneElement)(e,{key:n,hidden:e.props.value!==s})))})}function j(e){const n=b(e);return(0,g.jsxs)("div",{className:(0,s.Z)("tabs-container",v.tabList),children:[(0,g.jsx)(y,{...e,...n}),(0,g.jsx)(x,{...e,...n})]})}function _(e){const n=(0,f.Z)();return(0,g.jsx)(j,{...e,children:d(e.children)},String(n))}},1942:(e,n,t)=>{t.d(n,{Z:()=>r});const r='---\nserver:\n  update_interval: 2\nsegments:\n  - name: left\n    bg_palette:\n      - "#f5e0dc"\n      - "#f5c2e7"\n      - "#cba6f7"\n      - "#eba0ac"\n      - "#f9e2af"\n      - "#a6e3a1"\n      - "#94e2d5"\n      - "#89dceb"\n      - "#89b4fa"\n      - "#b4befe"\n    fg_palette:\n      - "#11111b"\n      - "#181825"\n      - "#1e1e2e"\n    separator: \ue0b0\n    parts:\n      - type: session_name\n        # Where v is string value with session name\n        template: "\uebc8: {{v}}"\n      - type: vpn\n        # Where v is a Vec of strings\n        template: "{{#if v}}\udb81\udd82: {{#each v}}{{this}}{{#unless @last}}, {{/unless}}{{/each}}{{else}}No VPNs connected.{{/if}}"\n        names:\n          - substring_matcher: "10.154.1."\n            name: "prod"\n          - substring_matcher: "10.154.154."\n            name: "dev"\n      - type: mem\n        # Where v is a structure with humanized string fields \'used\', \'available\', \'total\' and \'used_percents\'\n        template: "\ue266: {{v.total}}/{{v.available}}/{{v.used}}"\n      - type: mem\n        # Where v is a structure with humanized string fields \'used\', \'available\', \'total\' and \'used_percents\'\n        template: "Mem: {{v.used_percents}}% {{v.used_percents_graph}}"\n      - type: cpu\n        # Where v is a string value without percent symbol\n        template: "\uf4bc: {{v.consumption}}%"\n      - type: load_average\n        # Where v is a structure with humanized string fields \'one\', \'five\' and \'fifteen\'\n        template: "LA: {{v.one}}, {{v.five}}, {{v.fifteen}}"\n      - type: swap\n        # Where v is a structure with humanized string fields \'used\', \'total\' and \'used_percents\'\n        template: "Swap: {{v.total}}/{{v.used}}"\n      - type: swap\n        # Where v is a structure with humanized string fields \'used\', \'total\' and \'used_percents\'\n        template: "\udb83\udfb4: {{v.used_percents}}%"\n      - type: disk\n        dev: /dev/mapper/luks-7a504a5c-d5f0-4175-95b6-3a97c15a21ce\n        # Where v is a structure with\n        template: "\uf0a0 {{v.mount_point}} {{v.used_percents}}%"\n      - type: shell\n        cmd: free -m -h | awk \'/Mem/{printf $3"/"$2}\'\n        template: "{{v.stdout}}"\n  - name: right\n    bg_palette:\n      - "#f5e0dc"\n      - "#f5c2e7"\n      - "#cba6f7"\n      - "#eba0ac"\n      - "#f9e2af"\n      - "#a6e3a1"\n      - "#94e2d5"\n      - "#89dceb"\n      - "#89b4fa"\n      - "#b4befe"\n    fg_palette:\n      - "#11111b"\n      - "#181825"\n      - "#1e1e2e"\n    separator: \ue0b2\n    direction: rtl\n    parts:\n      - type: shell\n        use_pwd: true\n        cmd: gitmux -cfg ~/.config/tmux/gitmux.yaml\n        template: "{{v.stdout}}"\n'},4719:(e,n,t)=>{t.d(n,{Z:()=>r});const r="---\nrefresh_rate: 30 seconds\nappenders:\n  stdout:\n    kind: console\nroot:\n  level: error\n  appenders:\n    - stdout\n"},1859:(e,n,t)=>{t.d(n,{Z:()=>r});const r='<?xml version="1.0" encoding="UTF-8"?>\n<!DOCTYPE plist PUBLIC "-//Apple//DTD PLIST 1.0//EN" "http://www.apple.com/DTDs/PropertyList-1.0.dtd">\n<plist version="1.0">\n  <dict>\n    <key>KeepAlive</key>\n    <dict>\n      <key>Crashed</key>\n      <true/>\n    </dict>\n    <key>Label</key>\n    <string>launched.dev.fidonode.me.rusty_belt_server</string>\n    <key>ProgramArguments</key>\n    <array>\n      <string>sh</string>\n      <string>-c</string>\n      <string>rusty_belt_server</string>\n    </array>\n    <key>RunAtLoad</key>\n    <true/>\n  </dict>\n</plist>\n'},1562:(e,n,t)=>{t.d(n,{Z:()=>r});const r="[Unit]\nDescription=Rusty-belt server part\nDocumentation=https://github.com/fido-node/rusty-belt\n\n[Service]\nType=simple\nExecStart=%h/.cargo/bin/rusty_belt_server\nKillMode=process\nRestart=on-failure\nUser\n\n[Install]\nWantedBy=default.target\n"}}]);